3차수 문제 : 시스템 모니터링

exe 파일이 5개 시스템에 대해 주기적으로 리소스 사용율 (시간대별 시스템명, cpu 사용율)을 파일에 기록하고 있음
멀티쓰레드로 파일을 읽어 이동평균값(최근 5회 평균)이 임계치를 넘기면 이벤트를 발생, 서버에 전송
이동평균값이 이전값 또는 임계치보다 낮아지면 이벤트 해제
클라이언트를 열어서 서버로부터 결과 수신하여 상태가 U이면 각 시스템의 최근 장애 로그 파일에 기록


평가 : 설계 PT 자료 작성 
구조 설계
로직 설계
기술적용 설명
제안사항 설명
실시간 복합 이벤트 처리 - 예) 리소스 사용률이 70% 이상이고, 최근 1시간 동안 2회 이상 발생한 경우 이벤트 발생


구조 및 로직
Thread - 대상파일, 주기, 파일포인터, 이전평균값, 이전데이터리스트, 현재데이터리스트 (리스트 대신 큐?)
대상 시스템 수만큼 생성
소켓 클라이언트 생성
주기마다 이전파일위치에서 추가사항 읽음
추가사항 파싱 -> 데이터 클래스 (시간, 리소스, 사용률)
추가사항에 이전데이터리스트 일부 합쳐 현재데이터리스트 생성
현재데이터리스트 이동평균값 계산
현재의 이동평균값을 이전평균값, 임계치와 비교하여 이벤트 여부 판단
소켓 서버에 이벤트 전송
소켓 서버의 응답 수신하여 상태 체크 후 파일 기록


ex) 분석 데이터 예
-10_c	-10_m	-9_c 	-9_m ......  0_c	0_m	event_yn	장애	임계치
90	50	80	80	90	88	Y	N	80
90	50	80	80	90	88	N	Y	80
90	50	80	80	90	88	N	Y	80
90	50	80	80	90	88	N	Y	70


추가 요소
일정 시간 동안의 리소스 사용률, 이벤트 판단 결과, 실제 장애 여부 데이터 활용
장애 선감지 - 향후 기준 시간 이내 장애 발생 가능성 예측
임계치 수정 - 이벤트 발생 빈도와 실제 장애 여부를 기반으로 모니터링에 유효한 임계치로 개선
관련 특허 : 10-2012-0131517


평가 요소
범용성을 보유한 솔루션의 설계/개발을 리딩할 수 있다
시장/기술 트렌드 및 자사 사업 방향에 align된 신규 솔루션을 기획/발굴할 수 있다.
기반 솔루션/특수 목적 소프트웨어의 시장 경쟁력을 고려한 상용화를 기획할 수 있다.



CEP 엔진
이벤트 발생 시점에 구동	
다양한 이벤트소스로부터 감지된 이벤트를 분석하여 의사결정 수행
이벤트 구성요소가 컴포넌트화되어 조합하여 다양한 이벤트 정의 가능
다양한 소스에서 실시간 데이터 수집이 가능한 메커니즘
다수의 이벤트 결합으로 새로운 이벤트 발생 및 처리 가능
빠른 비교 판단 연산 처리에 포커스
EBM, 시스템 장애 감지 등


룰 엔진
사용자 요청 시점에 구동
업무 시스템 내 비즈니스 로직 구현부에서 룰을 분리, 의사결정 및 업무의 자동화 처리
룰에 대한 요구사항이 명확히 정의되어야 하고 추후 룰 변경이 용이하지 않음
요청에 응답하는 구조로, 실시간 데이터 수집을 위한 구조 변경 필요
이벤트 간 결합을 통한 복합 이벤트 구현이 어려움
복잡한 로직 연산 처리에 포커스
상품 개발, 심사 업무, 보험 등
